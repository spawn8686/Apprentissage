package openClassRoom;

import java.util.Scanner;

public class ExerciceConvertion {

	public static void main(String[] args) 
	{
		//	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		//  lien de l'exercice "https://openclassrooms.com/fr/courses/26832-apprenez-a-programmer-en-java/20903-tp-convertissez-des-celsius-en-fahrenheit"
		//  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		/*
		 * Exercice de conversion de température
		 * de Farenheit à Celsius
		 * de Celsius à Farenheit
		 * */
		// Création des variables
		Scanner scan = new Scanner(System.in);
		double value = 0;
		int choix;
		char boucle;
		double result = 0;
		
		// Affichage de début programme
		System.out.println("CONVERTISSEUR DEGRÉS CELSIUS ET DEGRÉS FAHRENHEIT");
		System.out.println("-------------------------------------------------\n");
		
		// Choix du mode de convertion
		do
		{
			System.out.println("Choisissez le mode de convertion!");
			System.out.println("1 - Convertisseur Celsius vers Fahrenheit");
			System.out.println("2 - Convertisseur Fahrenheit vers Celsius");
			choix = scan.nextInt();
			
			// Controle du choix de convertion
			while(choix != 1 && choix != 2)
			{
				System.out.println("Choix non valide, veuillez choisir entre 1 ou 2!");
				choix = scan.nextInt();
				scan.nextLine();
			}
			
			// si convertion vers Fahrenheit
			if (choix == 1) 
			{
				System.out.println("Veuillez indiquer les degrés Celsius : ");
				value = scan.nextDouble();
				scan.nextLine();
				result = arrondi(((9/5)*value)+32, 2);
				System.out.println(value+" °C correspond à "+result+" °F");
			}else // Si convertion vers Celsius
			{
				System.out.println("Veuillez indiquer les degrés Fahrenheit : ");
				value = scan.nextDouble();
				scan.nextLine();
				result = arrondi(((value-32)*5)/9, 2);
				System.out.println(value+" °F correspond à "+result+" °C");
			}
			
			// demande pour une nouvelle convertion
			boucle = ' ';
			while(boucle != 'o' && boucle != 'n')
			{	
				System.out.println("Souhaitez-vous convertir une nouvelle température?  (o/n)");
				boucle = scan.nextLine().charAt(0);
			}
			// Message de sorti de boucle si "boucle" = 'n'
			if(boucle == 'n')
				System.out.println("Merci et à bientôt!");
			// Re-boucle si "boucle" = 'o'
		}while(boucle == 'o');
				
	}
	
	public static double arrondi(double A, int B) 
	{
		return (double) ( (int) (A * Math.pow(10, B) + .5)) / Math.pow(10, B);
	}
}
